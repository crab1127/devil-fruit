define(["avalon","text!proCon"],function(e,t,n){var r=function(n,r){n.innerHTML=t,n.className="over";var i=e.define({$id:"proConCtrl",productName:"",productImg:[],fobPrice:"",startPort:"",monthSupply:"",minOrder:"",payMethods:"",keywords:[],shortDescription:"",specifications:"",sellerImg:"",CompanyName:"",region:"",CorpContacter:"",CorpProduct:"",CorpCertification:"",CorpSkype:"",currentIndex:1,fnSwitch:function(e){i.currentIndex=e},back:function(){e.router.navigate("/pro")},singletap:function(){var e=document.querySelector("#popover");console.log(this),e.className.indexOf("visible")===-1?(e.style.display="block",e.className="popover visible"):(e.style.display="none",e.className="popover")},close:function(){document.querySelector("#popover").className="popover"},goHome:function(){e.get("/cfone/user/getUserInfo.cf",function(t){t=JSON.parse(t),console.log(t),"unlogin"===t.status?e.router.navigate("/login"):e.router.navigate("/home")},"json")}});setTimeout(function(){document.querySelector("#slider").addEventListener("slider")},1),e.get(cfec.baseUrl+"/data/pro-"+r+".json",function(e){var t=JSON.parse(e),n=t.product,r=t.company,s=[],o=[];for(var u in n.keywords)s.push(n.keywords[u]);for(var u in t.picture)o.push(t.picture[u]);i.productName=n.productName,i.fobPrice=n.fobPrice,i.startPort=n.startPort,i.monthSupply=n.monthSupply,i.minOrder=n.minOrder,i.payMethods=n.payMethods,i.keywords=s,i.shortDescription=n.shortDescription,i.specifications=t.specifications,i.productImg=o,i.CompanyName=r.companyName,i.sellerImg="http://www.e-cantonfair.com/image/common/skype_head.gif",i.region=r.region.province+r.region.city,i.CorpContacter=r.contacter,i.CorpProduct=r.product,i.CorpCertification=r.certification,i.CorpSkype=r.skype}),e.scan(n)};return r});